## Go-Back-N 프로토콜
- 시뮬레이션 링크 : https://media.pearsoncmg.com/aw/ecs_kurose_compnetwork_7/cw/content/interactiveanimations/go-back-n-protocol/index.html
### 송신측
- window 크기 내의 패킷을 수신측으로 전송한다. (전송시 시퀀스 번호는 순차적이다.)
- ACK를 순차적으로 받으며 window를 이동시키는데, 받은 ACK가 순차적이지 않으면 무시한다.
- ++) ACK를 받을 때 순차적이지 않고, 이후의 ACK가 들어온 경우 암묵적으로 앞의 패킷은 전달이 되었다고 처리한다. 
    - -> 4. 수신측의 첫번째 ACK 손실 참고
- 일정시간 동안 기다렸음에도 ACK가 들어오지 않는 경우 ACK를 받지 못한 패킷의 window의 모든 패킷을 재전송한다.

### 수신측
- 패킷을 순차적으로 받는다. 순차적이지 않을 경우 저장하지 않는다.
- 패킷에 대한 ACK를 송신측으로 전송한다.
## 시나리오
### 1. 정상적인 전달
<img src="./img/정상적인 전달.gif">

- 송신측에서 정해진 크기의 window 내에서 패킷을 전송한다.
- 수신측에서 패킷을 받아 ACK를 송신측으로 전달한다. 

<br>

### 2. 전송 중 첫번째 패킷의 손실
<img src="./img/전송 중 첫번째 패킷의 손실.gif">

- 송신측에서 정해진 크기의 window 내에서 패킷을 전송한다.
- 첫번째 패킷의 손실이 난다.
- 수신측에서는 패킷이 순차적으로 온 것이 아니기에 저장하지 않는다.
- 송신측에서는 ACK를 받지 못했기에 window의 패킷들을 재전송한다.

<br>

### 3. 전송 중 두번째 패킷의 손실
<img src="./img/전송 중 두번째 패킷의 손실.gif">

- 송신측에서 정해진 크기의 window 내에서 패킷을 전송한다.
- 두번째 패킷의 손실이 난다.
- 수신측에서는 첫번째 패킷은 순차적으로 온 것이기에 패킷을 받고 ACK를 전송한다.
- 두번째 패킷의 손실로 인해 송신측은 두번째 패킷에 대한 ACK를 받지 못한다.
- 타이머 시간이 지나면 송신측에서 window의 패킷들을 재전송한다.

<br>

### 4. 수신측의 첫번째 ACK 손실
<img src="./img/수신측의 첫번째 ACK 손실.gif">

- 송신측에서 정해진 크기의 window 내에서 패킷을 전송한다.
- 수신측에서 받은 패킷들의 ACK를 송신측으로 전송한다.
- 수신측에서 보낸 첫번째 ACK의 손실이 난다.
- 송신측에서는 첫번째 ACK는 손실이 났으므로 받지 못하고, 두번째 ACK를 받는다. -> 두번째 패킷의 ACK를 받음으로써 첫번째 패킷은 전달되었다고 처리한다.

<br>

### 5. 수신측의 두번째 ACK 손실
<img src="./img/수신측의 두번째 ACK 손실.gif">

- 송신측에서 정해진 크기의 window 내에서 패킷을 전송한다.
- 수신측에서 받은 패킷들의 ACK를 전송한다.
- 수신측에서 보낸 두번째 ACK의 손실이 난다.
- 송신측에서 첫번째 ACK만 받았으므로 첫번째만 받은것으로 처리한다.
- 일정시간 후 두번째 패킷을 재전송한다.

<br>

### 6. 수신측의 첫번째, 세번째 ACK 손실
<img src="./img/수신측의 첫번째, 세번째 ACK 손실.gif">

- 4번, 5번 시나리오의 합작이다.
- 송신측에서 정해진 크기의 window 내에서 패킷을 전송한다.
- 수신측에서 ACk를 전송한다.
- 첫번째, 세번째의 ACK에서 손실이 난다.
- 송신측에서 ACK를 받는데, 두번째 ACK를 받음으로써 첫번째 패킷은 전달되었다고 처리한다. 그러나 세번째 ACK 이후의 ACK는 받지 못했으므로, 세번째 패킷은 전달이 안되었다고 처리한다.
- 송신측에서 세번째 패킷을 재전송한다.